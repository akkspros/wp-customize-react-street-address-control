<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

		<link rel='stylesheet' id='dashicons-css'  href='https://develop.svn.wordpress.org/trunk/src/wp-includes/css/dashicons.css?ver=5.0-alpha-42125-src' type='text/css' media='all' />
		<link rel='stylesheet' id='common-css'  href='https://develop.svn.wordpress.org/trunk/src/wp-admin/css/common.css?ver=5.0-alpha-42125-src' type='text/css' media='all' />
		<link rel='stylesheet' id='forms-css'  href='https://develop.svn.wordpress.org/trunk/src/wp-admin/css/forms.css?ver=5.0-alpha-42125-src' type='text/css' media='all' />
		<link rel='stylesheet' id='admin-menu-css'  href='https://develop.svn.wordpress.org/trunk/src/wp-admin/css/admin-menu.css?ver=5.0-alpha-42125-src' type='text/css' media='all' />
		<link rel='stylesheet' id='dashboard-css'  href='https://develop.svn.wordpress.org/trunk/src/wp-admin/css/dashboard.css?ver=5.0-alpha-42125-src' type='text/css' media='all' />
		<link rel='stylesheet' id='list-tables-css'  href='https://develop.svn.wordpress.org/trunk/src/wp-admin/css/list-tables.css?ver=5.0-alpha-42125-src' type='text/css' media='all' />
		<link rel='stylesheet' id='edit-css'  href='https://develop.svn.wordpress.org/trunk/src/wp-admin/css/edit.css?ver=5.0-alpha-42125-src' type='text/css' media='all' />
		<link rel='stylesheet' id='revisions-css'  href='https://develop.svn.wordpress.org/trunk/src/wp-admin/css/revisions.css?ver=5.0-alpha-42125-src' type='text/css' media='all' />
		<link rel='stylesheet' id='media-css'  href='https://develop.svn.wordpress.org/trunk/src/wp-admin/css/media.css?ver=5.0-alpha-42125-src' type='text/css' media='all' />
		<link rel='stylesheet' id='themes-css'  href='https://develop.svn.wordpress.org/trunk/src/wp-admin/css/themes.css?ver=5.0-alpha-42125-src' type='text/css' media='all' />
		<link rel='stylesheet' id='about-css'  href='https://develop.svn.wordpress.org/trunk/src/wp-admin/css/about.css?ver=5.0-alpha-42125-src' type='text/css' media='all' />
		<link rel='stylesheet' id='nav-menus-css'  href='https://develop.svn.wordpress.org/trunk/src/wp-admin/css/nav-menus.css?ver=5.0-alpha-42125-src' type='text/css' media='all' />
		<link rel='stylesheet' id='wp-pointer-css'  href='https://develop.svn.wordpress.org/trunk/src/wp-includes/css/wp-pointer.css?ver=5.0-alpha-42125-src' type='text/css' media='all' />
		<link rel='stylesheet' id='widgets-css'  href='https://develop.svn.wordpress.org/trunk/src/wp-admin/css/widgets.css?ver=5.0-alpha-42125-src' type='text/css' media='all' />
		<link rel='stylesheet' id='site-icon-css'  href='https://develop.svn.wordpress.org/trunk/src/wp-admin/css/site-icon.css?ver=5.0-alpha-42125-src' type='text/css' media='all' />
		<link rel='stylesheet' id='l10n-css'  href='https://develop.svn.wordpress.org/trunk/src/wp-admin/css/l10n.css?ver=5.0-alpha-42125-src' type='text/css' media='all' />
		<link rel='stylesheet' id='buttons-css'  href='https://develop.svn.wordpress.org/trunk/src/wp-includes/css/buttons.css?ver=5.0-alpha-42125-src' type='text/css' media='all' />
		<link rel='stylesheet' id='customize-controls-css'  href='https://develop.svn.wordpress.org/trunk/src/wp-admin/css/customize-controls.css?ver=5.0-alpha-42125-src' type='text/css' media='all' />
		<!--
			Notice the use of %PUBLIC_URL% in the tags above.
			It will be replaced with the URL of the `public` folder during the build.
			Only files inside the `public` folder can be referenced from the HTML.

			Unlike "/favicon.ico" or "favicon.ico", "%PUBLIC_URL%/favicon.ico" will
			work correctly both with client-side routing and a non-root public URL.
			Learn how to configure a non-root public URL by running `npm run build`.
		-->
		<style type="text/css">
			#customize-theme-controls {
				width: 300px;
			}
			#customize-theme-controls .customize-pane-child {
				position: static;
			}
			#model-preview {
				white-space: pre;
				font-family: monospace;
			}
			#model-preview dt {
				font-weight: bold;
			}
		</style>
		<title>Demo for Customize React Street Address Control</title>
	</head>
	<body class="wp-core-ui wp-customizer js locale-en-us ready">
		<form id="customize-controls">
			<div id="customize-theme-controls">
				<noscript>
					You need to enable JavaScript to run this app.
				</noscript>
				<ul id="root" class="customize-pane-child accordion-section-content accordion-section control-section control-section-default open">
					<!-- Control gets rendered here. -->
					<li>
						<h2>Model Props Preview:</h2>
						<dl id="model-preview"></dl>
					</li>
					<li>
						<button type="button" class="button button-secondary" id="set-googleplex-address">Set address to Googleplex</button>
					</li>
					<li>
						Add dismissible notifications:
						<p>
							<button type="button" class="button button-secondary" id="add-dismissible-error">Error</button>
							<button type="button" class="button button-secondary" id="add-dismissible-warning">Warning</button>
							<button type="button" class="button button-secondary" id="add-dismissible-info">Info</button>
						</p>
					</li>
				</ul>
			</div>
		</form>

		<script src="https://develop.svn.wordpress.org/trunk/src/wp-includes/js/jquery/jquery.js"></script>
		<script src="https://develop.svn.wordpress.org/trunk/src/wp-includes/js/underscore.js"></script>
		<script src="https://develop.svn.wordpress.org/trunk/src/wp-includes/js/wp-util.js"></script>
		<script src="https://develop.svn.wordpress.org/trunk/src/wp-includes/js/customize-base.js"></script>
		<script src="https://develop.svn.wordpress.org/trunk/src/wp-admin/js/customize-controls.js"></script>
		<!--<script src="http://src.wordpress-develop.dev/wp-admin/js/customize-controls.js?ver=5.0-alpha-42125-src"></script>-->

		<script type="text/html" id="tmpl-customize-notification">
			<li class="notice notice-{{ data.type || 'info' }} {{ data.alt ? 'notice-alt' : '' }} {{ data.dismissible ? 'is-dismissible' : '' }} {{ data.containerClasses || '' }}" data-code="{{ data.code }}" data-type="{{ data.type }}">
				<div class="notification-message">{{{ data.message || data.code }}}</div>
				<# if ( data.dismissible ) { #>
					<button type="button" class="notice-dismiss"><span class="screen-reader-text"><?php _e( 'Dismiss' ); ?></span></button>
				<# } #>
			</li>
		</script>

		<script>
			jQuery( function( $ ) {
				var control, model, modelPreview;

				model = new wp.customize.Value( {
					street: "123 Main St",
					city: "Portland",
					state: "OR",
					zip: "97205"
				} );

				/**
				 * Override embed method to allow it to be embedded without a parent section.
				 *
				 * Eventually this should no longer be necessary, as we should allow controls to be embedded
				 * in standalone context. See #38077.
				 *
				 * @link https://core.trac.wordpress.org/ticket/38077
				 *
				 * @returns {void}
				 */
				wp.customize.controlConstructor.street_address.prototype.embed = function() {
					var control = this;
					control.renderContent();
					control.deferred.embedded.resolve();
				};

				control = new wp.customize.controlConstructor.street_address( 'business', {
					setting: model,
					label: 'Some Business'
				} );
				$( '#root' ).prepend( control.container );
				control.embed();

				// Expose in global namespace for debugging.
				window.testControl = control;

				// Preview value managed by control.
				modelPreview = $( '#model-preview' );
				function updatePreview() {
					modelPreview.empty();
					_.each( model.get(), function( value, key ) {
						modelPreview.append( $( '<dt></dt>', {
							text: key
						} ) );
						modelPreview.append( $( '<dd>', {
							text: JSON.stringify( value )
						} ) );
					} );
				}
				updatePreview();
				model.bind( updatePreview );

				// Set up button for resetting model to a different address.
				document.getElementById( 'set-googleplex-address' ).addEventListener( 'click', function() {
					model.set( {
						street: '1600 Amphitheatre Pkwy',
						city: 'Mountain View',
						state: 'CA',
						zip: '94043'
					} );
				} );

				// Add button for adding notifications.
				var count = 0;
				_.each( [ 'error', 'warning', 'info' ], function( type ) {
					document.getElementById( 'add-dismissible-' + type ).addEventListener( 'click', function() {
						count++;
						control.notifications.add( new wp.customize.Notification( 'notification_' + String( count ), {
							type: type,
							message: 'Notification #' + String( count ) + ' (' + type + ')',
							dismissible: true
						} ) );
					} );
				} );
			} );
		</script>
		<!--
			This HTML file is a template.
			If you open it directly in the browser, you will see an empty page.

			You can add webfonts, meta tags, or analytics to this file.
			The build step will place the bundled scripts into the <body> tag.

			To begin the development, run `npm start` or `yarn start`.
			To create a production bundle, use `npm run build` or `yarn build`.
		-->
	</body>
</html>
